<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GERAGANAMOS</title>
  <link rel="icon" href="imagenes/favicon.png" type="image/png" />
  <link rel="stylesheet" href="./styles.css" />

  <!-- Performance -->
  <link rel="preconnect" href="https://connect.facebook.net" crossorigin>
  <link rel="dns-prefetch" href="//connect.facebook.net">
  <link rel="preload" href="imagenes/fondo.png" as="image">

  <!-- Meta Pixel Code (con coincidencias avanzadas) -->
  <script>
    function normEmail(v){return(v||"").trim().toLowerCase();}
    function normPhone(v){let p=(v||"").replace(/\D+/g,"");if(p&&p.length===10)p="54"+p;return p;}
    function safeUUID(){return crypto?.randomUUID?.()||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c=>{const r=Math.random()*16|0,v=c==="x"?r:r&0x3|0x8;return v.toString(16)})}
    function getOrCreateExternalId(){let id=localStorage.getItem("external_id");if(!id){id=safeUUID();localStorage.setItem("external_id",id);}return id;}

    const params=new URLSearchParams(location.search);
    const userEmail=normEmail(params.get("email"));
    const userPhone=normPhone(params.get("phone"));
    const externalId=getOrCreateExternalId();

    !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
    n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');

    window.fbq=window.fbq||function(){console.warn("Meta Pixel no inicializado")};

    // ‚ö†Ô∏è Edit√° solo el PIXEL_ID abajo (en LANDING_CONFIG tambi√©n lo vas a definir para orden visual)
    fbq("init","868127886154248",{external_id:externalId,em:userEmail||void 0,ph:userPhone||void 0,country:"AR"});
    fbq("track","PageView");
  </script>
  <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=868127886154248&ev=PageView&noscript=1"/></noscript>
</head>

<body>
  <div class="container background-image">
    <div class="overlay"></div>
    <div class="content">
      <img src="imagenes/logo.png" class="logo" alt="Logo GERAGANAMOS"
           width="240" height="120" decoding="async" fetchpriority="high" />
      <p class="title">Envianos un WhatsApp<br />para crear tu cuenta</p>

      <a class="whatsapp-button" id="whatsappButton" href="#" rel="noopener noreferrer" aria-label="Crear usuario por WhatsApp">
        <span>¬°COMENZAR A JUGAR!</span>
        <img src="imagenes/whatsapp.png" alt="whatsapp" class="whatsapp-icon"
             width="24" height="24" decoding="async" loading="lazy" />
      </a>

      <p class="subtitle">M√≠nimo de carga: 1.000<br />Sin L√≠mite de retiro<br />Gan√°s y cobr√°s a cualquier hora</p>
      <p class="description">-GERA GANAMOS-</p>
    </div>
  </div>

  <!-- ‚úÖ Floating WhatsApp + Burbuja -->
  <div id="wa-float" class="wa-float" aria-hidden="false">
    <button id="wa-float-btn" class="wa-float__btn" aria-label="Abrir WhatsApp">
      <img src="imagenes/whatsapp.png" alt="whatsapp" class="wa-float__icon" />
    </button>

    <div id="wa-bubble" class="wa-bubble" role="dialog" aria-label="Chat WhatsApp">
      <div class="wa-bubble__header">
        <div class="wa-bubble__title">WhatsApp</div>
        <button id="wa-bubble-close" class="wa-bubble__close" aria-label="Cerrar">‚úï</button>
      </div>

      <div class="wa-bubble__body">
        <div class="wa-msg wa-msg--bot">¬°Bienvenido!üëã</div>
      </div>

      <div class="wa-bubble__footer">
        <input id="wa-input" class="wa-input" type="text" value="Hola! Quiero info" />
        <button id="wa-send" class="wa-send">Enviar</button>
      </div>
    </div>
  </div>

  <!-- ‚úÖ Overlay (click / auto-redirect) -->
  <div id="wa-redirect-overlay" class="wa-redirect-overlay" hidden>
    <div class="wa-redirect-box">
      <div class="wa-redirect-spinner"></div>
      <div id="wa-redirect-text" class="wa-redirect-text">Redirigiendo al Whatsapp del Cajero...</div>
    </div>
  </div>

<script>
/************************************************************
 * ‚úÖ CONFIGURACI√ìN POR LANDING (EDITAR SOLO ESTO)
 ************************************************************/
const LANDING_CONFIG = {
  BRAND_NAME: "GERAGANAMOS",

  // ‚úÖ Para publicidad
  MODE: "ads", // "ads" | "normal"

  // Endpoint interno (Next/Vercel) que a su vez consulta asesadmin
  SERVICE_BASE: "/api/get-random-phone",

  // ‚úÖ Soporte (Plan D) controlado por flag (para test)
  SUPPORT_FALLBACK_ENABLED: true, // <- cuando confirmes, pasalo a false
  FALLBACK: [{ number: "5491169789243", name: "Soporte Gera", weight: 1 }],

  CACHE: {
    TTL_MS: 5 * 60 * 1000,
    LS_KEY: "active_whatsapp_numbers:geraganamos:ads" // ‚úÖ clave ADS (no mezclar con normal)
  },

  PROMO: {
    ENABLED: true,
    LANDING_TAG: "CH1"
  },

  UI: {
    DEFAULT_INPUT_TEXT: "Hola! Quiero info",
    OVERLAY_TEXT: "Redirigiendo al Whatsapp del Cajero...",
    CLICK_GET_NUMBER_DEADLINE_MS: 1500, // ‚úÖ prioridad: conseguir n√∫mero <= 1.5s
    AUTO_REDIRECT_ENABLED: false,
    AUTO_REDIRECT_DELAY_MS: 10000,
    AUTO_REDIRECT_TEXT: "Redirigiendo al Whatsapp del Cajero..."
  }
};

/************************************************************
 * ‚úÖ GEN√âRICO (NO TOCAR)
 ************************************************************/
const CONFIG_FRONT = {
  SERVICE_URL: `${LANDING_CONFIG.SERVICE_BASE}?mode=${encodeURIComponent(LANDING_CONFIG.MODE)}`,
  FALLBACK: LANDING_CONFIG.FALLBACK,
  SUPPORT_FALLBACK_ENABLED: LANDING_CONFIG.SUPPORT_FALLBACK_ENABLED === true,
  TTL_MS: LANDING_CONFIG.CACHE.TTL_MS,
  LS_KEY: LANDING_CONFIG.CACHE.LS_KEY,
  ENVIAR_PROMO_CODE: LANDING_CONFIG.PROMO.ENABLED,
  LANDING_TAG: LANDING_CONFIG.PROMO.LANDING_TAG,
  OVERLAY_TEXT: LANDING_CONFIG.UI.OVERLAY_TEXT,
  CLICK_GET_NUMBER_DEADLINE_MS: LANDING_CONFIG.UI.CLICK_GET_NUMBER_DEADLINE_MS,
  AUTO_REDIRECT_ENABLED: LANDING_CONFIG.UI.AUTO_REDIRECT_ENABLED,
  AUTO_REDIRECT_DELAY_MS: LANDING_CONFIG.UI.AUTO_REDIRECT_DELAY_MS,
  AUTO_REDIRECT_TEXT: LANDING_CONFIG.UI.AUTO_REDIRECT_TEXT
};

function fetchWithTimeout(url,opt={},ms=3000){
  const ctrl=new AbortController();const id=setTimeout(()=>ctrl.abort(),ms);
  return fetch(url,{...opt,signal:ctrl.signal}).finally(()=>clearTimeout(id));
}

function withTimeout(promise, ms){
  return Promise.race([
    promise,
    new Promise((_, rej) => setTimeout(() => rej(new Error("timeout")), ms))
  ]);
}

function showRedirectOverlay(text){
  const ov = document.getElementById("wa-redirect-overlay");
  const tx = document.getElementById("wa-redirect-text");
  if (tx) tx.textContent = text || CONFIG_FRONT.OVERLAY_TEXT || "Redirigiendo al Whatsapp del Cajero...";
  if (ov) ov.hidden = false;
}
function hideRedirectOverlay(){
  const ov = document.getElementById("wa-redirect-overlay");
  if (ov) ov.hidden = true;
}

function getCache(){try{return JSON.parse(localStorage.getItem(CONFIG_FRONT.LS_KEY)||"null");}catch{return null;}}
function setCache(numbers){localStorage.setItem(CONFIG_FRONT.LS_KEY,JSON.stringify({ts:Date.now(),numbers}));}

function normalizeNumbers(list){
  return (Array.isArray(list)?list:[])
    .map(n=>({
      number:String(n.number||n.phone||"").trim(),
      weight:Number(n.weight||1),
      name:n.name || LANDING_CONFIG.BRAND_NAME
    }))
    .filter(n=>/^\+?\d{8,17}$/.test(n.number));
}

// ‚úÖ Carga n√∫meros (API) con fallback a cache local; soporte SOLO si flag ON
async function loadNumbersOnce(){
  const cached = getCache();

  try{
    // ‚úÖ m√°s agresivo (reduce ‚Äúclick sin n√∫mero‚Äù)
    const res = await fetchWithTimeout(
      CONFIG_FRONT.SERVICE_URL,
      { headers: { "Cache-Control":"no-store" } },
      1500
    );
    if(!res.ok) throw new Error("HTTP "+res.status);

    const data = await res.json();
    const list = normalizeNumbers(Array.isArray(data)?data:[data]);

    if(list.length){
      setCache(list);
      return list;
    }
    throw new Error("Invalid data");
  } catch(e){
    // 1) cache local primero
    const ok = cached?.numbers?.length && Date.now()-(cached.ts||0) < CONFIG_FRONT.TTL_MS;
    if (ok) return cached.numbers;

    // 2) soporte SOLO si flag est√° ON
    return CONFIG_FRONT.SUPPORT_FALLBACK_ENABLED ? CONFIG_FRONT.FALLBACK : [];
  }
}

function pickWeightedRandom(list){
  const total=list.reduce((s,it)=>s+(Number(it.weight)||1),0);
  let r=Math.random()*total;
  for(const it of list){r-=(Number(it.weight)||1);if(r<=0)return it;}
  return list[list.length-1];
}

const qs=new URLSearchParams(location.search);
const getQueryParam=p=>qs.get(p);
const getCookie=name=>{const m=document.cookie.match(new RegExp("(^| )"+name+"=([^;]+)"));return m&&m[2];};

function getFbc(){
  const c=getCookie("_fbc");
  if(c){localStorage.setItem("stored_fbc",c);return c;}
  const s=localStorage.getItem("stored_fbc");if(s)return s;
  const fbclid=getQueryParam("fbclid");if(!fbclid)return;
  const fbc=`fb.1.${Date.now()}.${fbclid}`;localStorage.setItem("stored_fbc",fbc);return fbc;
}
function getFbp(){
  const c=getCookie("_fbp");
  if(c){localStorage.setItem("stored_fbp",c);return c;}
  const s=localStorage.getItem("stored_fbp");if(s)return s;
  const n=`fb.1.${Date.now()}.${Math.floor(Math.random()*1e10)}`;
  localStorage.setItem("stored_fbp",n);return n;
}

function generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,c=>{const r=Math.random()*16|0,v=c==="x"?r:r&0x3|0x8;return v.toString(16)})}
function getDeviceType(){const ua=navigator.userAgent;if(/mobile/i.test(ua))return"mobile";if(/tablet|ipad|playbook|silk/i.test(ua))return"tablet";return"desktop";}

// ‚ö†Ô∏è Geo: se usa SOLO para logging; NO debe frenar la redirecci√≥n
async function detectarGeo(timeoutMs=700){
  try{
    const ctrl=new AbortController();
    const t=setTimeout(()=>ctrl.abort(),timeoutMs);
    const res=await fetch("https://ipapi.co/json/",{signal:ctrl.signal,cache:"no-store"});
    clearTimeout(t);
    const d=await res.json();
    return{country:d.country||null,region:d.region||null,city:d.city||null};
  }catch{
    return{country:null,region:null,city:null};
  }
}

function buildMensaje(botName, promo_code){
  const variantes = [
    n => `Hola ${n}! Vi este anuncio, me pas√°s info?`,
    n => `Hola ${n}! Vi el anuncio, podr√≠as darme m√°s info?`,
    n => `Buenas ${n}! Me cont√°s un poco m√°s del anuncio?`,
    n => `Hola ${n}! Quisiera saber m√°s sobre lo que ofrecen.`,
    n => `Buenas ${n}! Me das m√°s detalles por favor?`,
    n => `Hola ${n}! Estoy interesado, me cont√°s c√≥mo funciona?`,
    n => `Hola ${n}! Vi tu publicaci√≥n, podr√≠as ampliarme la info?`,
    n => `Holaaa ${n}! Me llam√≥ la atenci√≥n el anuncio, me cont√°s m√°s?`,
    n => `Hola ${n}! Vi tu publicidad, c√≥mo es para registrarse?`,
    n => `Buenas ${n}! Me das informaci√≥n sobre c√≥mo empezar?`,
    n => `Qu√© tal ${n}! Me pod√©s explicar c√≥mo funciona?`,
    n => `Hola ${n}! Quisiera saber c√≥mo se juega, me ayud√°s?`,
    n => `Holaaa ${n}! Vi el anuncio, me pas√°s los pasos para entrar?`,
    n => `Buenas ${n}! Me interesa, me cont√°s un poco m√°s?`,
    n => `Hola ${n}! Vi su anuncio, tienen bono de bienvenida?`,
    n => `Holaaa ${n}! Me pod√©s contar un poco m√°s del sistema?`,
    n => `Buenas ${n}! Vi la publicidad y quiero saber m√°s.`,
    n => `Hola ${n}! C√≥mo hago para crear mi usuario?`,
    n => `Holaaa ${n}! Me gustar√≠a probar, c√≥mo empiezo?`,
    n => `Buenas ${n}! Me interesa, c√≥mo funciona la plataforma?`,
    n => `Hola ${n}! Me pas√°s info sobre c√≥mo registrarme?`,
    n => `Holaaa ${n}! Me cont√°s m√°s sobre lo que ofrecen?`,
    n => `Buenas ${n}! Vi su anuncio, me explic√°s c√≥mo participar?`,
    n => `Hola ${n}! Vi este anuncio y quiero saber c√≥mo funciona.`,
    n => `Holaaa ${n}! Me podr√≠as dar m√°s informaci√≥n?`,
    n => `Buenas ${n}! Estoy interesado, me pas√°s m√°s detalles?`,
    n => `Hola ${n}! Vi el anuncio y quiero saber c√≥mo se juega.`,
    n => `Holaaa ${n}! Vi la publi, me cont√°s de qu√© trata?`,
    n => `Buenas ${n}! Quiero saber m√°s sobre el servicio que ofrecen.`,
    n => `Hola ${n}! Pod√©s darme m√°s info sobre c√≥mo arrancar?`,
    n => `Holaaa ${n}! Me explic√°s c√≥mo funciona el proceso?`,
    n => `Buenas ${n}! Me interesa participar, me cont√°s c√≥mo es?`,
    n => `Hola ${n}! Vi la publicidad, me das m√°s detalles?`,
    n => `Holaaa ${n}! Quisiera saber c√≥mo puedo registrarme.`,
    n => `Buenas ${n}! Vi el anuncio y quiero empezar, c√≥mo hago?`,
    n => `Hola ${n}! Estoy interesado en m√°s informaci√≥n.`,
    n => `Holaaa ${n}! Me cont√°s c√≥mo es el tema del registro?`,
    n => `Buenas ${n}! Vi la publicaci√≥n y me gustar√≠a saber m√°s.`,
    n => `Hola ${n}! Me explic√°s c√≥mo se gana o c√≥mo funciona?`,
    n => `Holaaa ${n}! Me gustar√≠a saber m√°s antes de registrarme.`,
    n => `Buenas ${n}! Vi el anuncio y quiero info para empezar.`,
    n => `Hola ${n}! Pod√©s contarme c√≥mo es el proceso paso a paso?`,
    n => `Holaaa ${n}! Vi su publicidad, me gustar√≠a m√°s info.`,
    n => `Buenas ${n}! Me interesa, tienen alg√∫n bono de registro?`,
    n => `Hola ${n}! C√≥mo hago para jugar o participar?`,
    n => `Holaaa ${n}! Me pod√©s dar m√°s info por favor?`,
    n => `Buenas ${n}! Vi su anuncio, me gustar√≠a probar.`,
    n => `Hola ${n}! Vi la publicaci√≥n y quiero saber m√°s detalles.`,
    n => `Holaaa ${n}! Me interesa lo que ofrecen, c√≥mo empiezo?`
  ];

  const base = variantes[Math.floor(Math.random()*variantes.length)](botName || "Soporte");
  return promo_code ? `${base} ${promo_code}` : base;
}

/**
 * ‚úÖ PRIORIDAD #1: conseguir n√∫mero y redirigir
 * ‚úÖ PRIORIDAD #2: enviar data a Sheets/CAPI (en paralelo, sin frenar)
 */
async function contactarWhatsApp({ source="main_button", customText=null } = {}){
  if (window.__waInFlight) return;
  window.__waInFlight = true;

  // ‚úÖ feedback inmediato (gan√°s tiempo percibido)
  showRedirectOverlay(CONFIG_FRONT.OVERLAY_TEXT);

  // 1) Conseguir lista r√°pido (m√°x deadline)
  let list = [];
  try {
    if (window.__activeNumbers?.length) {
      list = window.__activeNumbers;
    } else {
      list = await withTimeout(
        (window.__numbersPromise || loadNumbersOnce()),
        CONFIG_FRONT.CLICK_GET_NUMBER_DEADLINE_MS || 1500
      );
      window.__activeNumbers = list || [];
    }
  } catch {
    // fallback local final: cache local o soporte seg√∫n flag
    const cached = getCache();
    const ok = cached?.numbers?.length && Date.now()-(cached.ts||0) < CONFIG_FRONT.TTL_MS;
    list = ok ? cached.numbers : (CONFIG_FRONT.SUPPORT_FALLBACK_ENABLED ? CONFIG_FRONT.FALLBACK : []);
  }

  if (!list.length) {
    // soporte OFF + no cache + no upstream ‚Üí caso extremo
    hideRedirectOverlay();
    window.__waInFlight = false;
    return;
  }

  const picked = pickWeightedRandom(list);
  const cleanPhone = String(picked.number || "").replace("+","").trim();

  const external_id = getOrCreateExternalId();
  const event_id = generateUUID();
  const event_source_url = location.href;
  const fbp = getFbp();
  const fbc = getFbc();

  const uuidSegment = generateUUID().replace(/-/g,"").slice(0,12);
  const promo_code = CONFIG_FRONT.ENVIAR_PROMO_CODE ? `${CONFIG_FRONT.LANDING_TAG}-${uuidSegment}` : "";

  const mensaje = (customText && String(customText).trim())
    ? (promo_code ? `${String(customText).trim()} ${promo_code}` : String(customText).trim())
    : buildMensaje(picked.name, promo_code);

  // 2) Pixel (NO frena)
  try{
    if (window.fbq){
      fbq(
        "track",
        "Contact",
        { content_name:"Bot√≥n WhatsApp", content_category:"LeadGen", event_source:"LandingPage", source },
        { eventID: event_id }
      );
    }
  }catch{}

  // 3) Sheets/CAPI: en paralelo (NO esperar geo)
  (async ()=>{
    try{
      const geo = await detectarGeo(700);

      const payload = {
        event_name:"Contact",
        event_id,
        external_id,
        event_source_url,
        fbp,
        fbc,
        email:getQueryParam("email"),
        phone:getQueryParam("phone"),
        fn:getQueryParam("fn"),
        ln:getQueryParam("ln"),
        ct:getQueryParam("ct"),
        st:getQueryParam("st"),
        zip:getQueryParam("zip"),
        country:getQueryParam("country"),
        geo_city:geo.city,
        geo_region:geo.region,
        geo_country:geo.country,
        utm_campaign:getQueryParam("utm_campaign"),
        telefono_asignado:cleanPhone,
        device_type:getDeviceType(),
        promo_code,
        source,
        brand: LANDING_CONFIG.BRAND_NAME,
        mode: LANDING_CONFIG.MODE
      };

      fetch("/api/xz3v2q",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify(payload),
        keepalive:true
      }).catch(()=>{});
    }catch{}
  })();

  // 4) ‚úÖ Redirecci√≥n inmediata
  window.location.href = `https://wa.me/${cleanPhone}?text=${encodeURIComponent(mensaje)}`;
}

document.addEventListener("DOMContentLoaded",()=>{
  const btn = document.getElementById("whatsappButton");
  if(!btn) return;

  // ‚úÖ Precarga con promesa global (evita race condition del click r√°pido)
  window.__activeNumbers = [];
  window.__numbersPromise = loadNumbersOnce().then(list => {
    window.__activeNumbers = list || [];
    return window.__activeNumbers;
  });

  // Bot√≥n grande
  btn.addEventListener("click",(e)=>{
    e.preventDefault();
    contactarWhatsApp({ source: "main_button" });
  });

  // Floating + burbuja
  const floatBtn = document.getElementById("wa-float-btn");
  const bubble   = document.getElementById("wa-bubble");
  const closeBtn = document.getElementById("wa-bubble-close");
  const sendBtn  = document.getElementById("wa-send");
  const input    = document.getElementById("wa-input");

  if (input) input.value = LANDING_CONFIG.UI.DEFAULT_INPUT_TEXT || "Hola! Quiero info";

  let openedOnce = false;
  function openBubble(){ if(bubble){ bubble.classList.add("is-open"); openedOnce = true; } }
  function closeBubble(){ if(bubble){ bubble.classList.remove("is-open"); } }
  function toggleBubble(){ if(bubble){ bubble.classList.toggle("is-open"); openedOnce = true; } }

  window.addEventListener("load", ()=>{
    setTimeout(()=>{ if(!openedOnce) openBubble(); }, 3500);
  });

  if (floatBtn) floatBtn.addEventListener("click", toggleBubble);
  if (closeBtn) closeBtn.addEventListener("click", closeBubble);

  function sendFromBubble(){
    const text = (input?.value || LANDING_CONFIG.UI.DEFAULT_INPUT_TEXT || "Hola! Quiero info").trim();
    contactarWhatsApp({ source:"floating", customText: text });
    closeBubble();
  }

  if (sendBtn) sendBtn.addEventListener("click", sendFromBubble);
  if (input) input.addEventListener("keydown", (e)=>{ if(e.key==="Enter") sendFromBubble(); });

  // ‚úÖ Auto redirect (SOLO redirige a wa.me, NO pixel, NO sheets)
  if (CONFIG_FRONT.AUTO_REDIRECT_ENABLED) {
    const KEY = "wa_auto_redirect_fired";
    const already = sessionStorage.getItem(KEY) === "1";

    const ovBoot = document.getElementById("wa-redirect-overlay");
    if (ovBoot) ovBoot.hidden = true;

    window.addEventListener("load", () => {
      setTimeout(async () => {
        if (already) return;
        if (window.__waInFlight) return;

        sessionStorage.setItem(KEY, "1");

        showRedirectOverlay(CONFIG_FRONT.AUTO_REDIRECT_TEXT || "Redirigiendo al Whatsapp del Cajero...");

        let list = [];
        try {
          list = (window.__activeNumbers && window.__activeNumbers.length)
            ? window.__activeNumbers
            : await loadNumbersOnce();
        } catch (e) {
          list = CONFIG_FRONT.SUPPORT_FALLBACK_ENABLED ? CONFIG_FRONT.FALLBACK : [];
        }

        if (!list.length) {
          hideRedirectOverlay();
          return;
        }

        const picked = (list && list.length) ? pickWeightedRandom(list) : (CONFIG_FRONT.FALLBACK[0] || null);
        if (!picked) { hideRedirectOverlay(); return; }

        const cleanPhone = String(picked.number || "").replace("+", "").trim();
        const msg = encodeURIComponent(CONFIG_FRONT.AUTO_REDIRECT_TEXT || "Redirigiendo al Whatsapp del Cajero...");
        window.location.assign(`https://wa.me/${cleanPhone}?text=${msg}`);

      }, CONFIG_FRONT.AUTO_REDIRECT_DELAY_MS || 10000);
    });
  }
});
</script>
</body>
</html>
